<!-- Author: Jakob Edmaier -->
<ui:composition template="/resources/template/skeleton.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="jakarta.faces.html"
                xmlns:f="jakarta.faces.core"
                xmlns:ui="jakarta.faces.facelets">

    <f:metadata>
        <f:viewParam name="secret" value="#{passwordResetInputBean.passwordReset.verificationToken}"/>
        <f:viewAction action="#{passwordResetInputBean.loadUser()}"/>
    </f:metadata>

    <ui:param name="title" value="#{messages.f_pageTitle_passwordResetInput}"/>
    <ui:define name="childContent">
        <h2>#{messages.f_setNewPassword_passwordResetInput}</h2>
        <h:form id="passwordResetInput" styleClass="mt-4 small-form-container">
            <div class="container p-1">
                <div class="mb-3">
                    <h:outputText value="#{messages.f_yourEmailAddress_passwordResetInput}: #{passwordResetInputBean.user.email}"/>
                </div>
                <div class="mb-3">
                    <h:outputLabel for="passwort" value="#{messages.f_label_password}"/>
                    <h:inputSecret id="passwort"
                                   value="#{passwordResetInputBean.passwordInput.password}"
                                   styleClass="form-control"/>
                </div>
                <div class="mb-3">
                    <h:outputLabel for="repetition" value="#{messages.f_label_passwordRepetition}" styleClass="mt-2"/>
                    <h:inputSecret id="repetition"
                                   value="#{passwordResetInputBean.passwordInput.repetition}"
                                   styleClass="form-control"/>
                </div>
            </div>
            <div class="container text-end mb-3 p-0">
                <h:commandButton value="#{messages.f_submitButton_passwordResetInput}"
                                 action="#{passwordResetInputBean.submit()}"
                                 styleClass="btn btn-primary"/>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
